# Project Setup and Contributions

## Dependencies

This repository uses [poetry](https://github.com/python-poetry/poetry) to manage the dependencies.
If you don't have `poetry` installed, run the command below.

```bash
make download-poetry
```

To install dependencies and prepare [pre-commit](https://pre-commit.com/) hook, run `install` command:

```bash
make install
```

To activate the virtual environment generated by poetry, run 
```bash
poetry shell
```

## Automated Code Formatting

Execute automated code-formatting using the following command;

```bash
make codestyle
```

Make sure you've run `make install` before this attempting to auto-format code.

### Checks

To run the default checks configured for this project, use the command;
```bash
make check-style
``` 
The above command will run [Black](https://black.readthedocs.io) (with diffs), [Darglint](https://github.com/terrencepreilly/darglint) and [mypy](http://mypy-lang.org).

On the other hand, using 
```bash
make check-safety
``` 
will check at the security of your code using [Pip Check](https://pip.pypa.io/en/stable/reference/pip_check), [Poetry](https://python-poetry.org/docs/) and [Bandit](https://bandit.readthedocs.io).

You can also use `STRICT=1` flag to make the check be strict.

### Before submitting

Before submitting your code please do the following steps:

* Add any changes you want
* Add tests for the new changes
* Update documentation if you have changed something significant

Run the following commands; 
```bash
make codestyle
STRICT=1 make check-style
STRICT=1 make check-safety
``` 

The above step ensures that your changes are formatted in a manner that matches the rest of the repository, and performs a check for any potential vulnerabilities/errors. 
